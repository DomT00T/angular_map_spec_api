<div class="container mt-3">
  <div class="col-12 row">
    <div class=""><h1 class="">ข่าวประชาสัมพันธ์</h1></div>
    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
      <button class="btn btn-success" type="button">เพิ่มข่าว</button>
    </div>
  </div>

  <table class="table table-responsive table-hover mt-3">
    <thead class="table-primary">
      <tr>
        <th scope="col"></th>
        <th scope="col">ลำดับ</th>
        <th scope="col">ชื่อเรื่อง</th>
        <th scope="col">วันที่สร้าง</th>
        <th scope="col">จัดการ</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of News.data; let i = index">
        <th scope="row" class="col-1">
          <div class="form-check form-switch">
            <input
              class="form-check-input"
              type="checkbox"
              role="switch"
              id="switchcheckbox"
              [(ngModel)]="item.Status"
              [checked]="item.Status === true"
              (change)="UpdateStatus(item)"
              data="item.Status"
            />

            <label class="form-check-label"></label>
          </div>
        </th>
        <td>{{ item.NewsId }}</td>
        <td>{{ item.NameNews }}</td>
        <td>{{ item.UpdatedDate | date : "d/MM/y" }}</td>
        <td class="col-2 manage">
          <button
            class="btn"
            [disabled]="item.ButtonView === false"
            (click)="openModal(item)"
          >
            <i class="fa-solid fa-circle-info fa-xl" style="color: #00aaff"></i>
          </button>
          <button class="btn" [disabled]="item.ButtonEdit === false">
            <i class="fa-solid fa-file-pen fa-xl" style="color: #0084ff"></i>
          </button>
          <button class="btn" [disabled]="item.ButtonDelete === false">
            <i class="fa-solid fa-trash fa-xl" style="color: #ff0000"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <div
    #myModal
    class="modal"
    id="detailModalToggle"
    aria-hidden="true"
    aria-labelledby="ModalToggleLabel"
    tabindex="-1"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="ModalToggleLabel">
            ราละเอียดข่าวประชาสัมพันธ์
          </h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
            (click)="closeModal()"
          ></button>
        </div>
        <div class="modal-body">
          <div class="mb-3 row">
            <label for="namenew" class="col-sm-2 col-form-label"
              >ชื่อเรื่อง</label
            >
            <div class="col-sm-10">
              <input
                type="text"
                readonly
                class="form-control"
                id="namenew"
                value="{{ this.dialog_data.NameNews }}"
                disabled
              />
            </div>
          </div>
          <div class="mb-3 row">
            <label for="namenew" class="col-sm-2 col-form-label">เนื้อหา</label>
            <div class="col-sm-10">
              <textarea class="form-control" id="Textarea1" rows="3" disabled>{{
                this.dialog_data.Detail
              }}</textarea>
            </div>

            <div class="mb-3 row">
              <label for="namenew" class="col-sm-2 col-form-label">สถานะ</label>
              <div class="form-check form-switch col-sm-10 mt-2">
                <input
                  class="form-check-input"
                  type="checkbox"
                  role="switch"
                  id="switchcheckbox"
                  [(ngModel)]="this.dialog_data.Status"
                  [checked]="this.dialog_data.Status === true"
                  data="item.Status"
                  disabled
                />
              </div>
            </div>

            <div class="modal-footer">
              <button
                class="btn btn-primary"
                data-bs-target="#detailModalToggle2"
                data-bs-toggle="modal"
                data-bs-dismiss="modal"
                (click)="closeModal()"
              >
                ปิด
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
